from __future__ import annotations

from mcp.server import Server

from resources.register_resources import register_resources
from tools.register_tools import register_tools
from version import SERVER_NAME, SERVER_VERSION


def create_mcp_server() -> Server:
    server = Server(
        SERVER_NAME,
        version=SERVER_VERSION,
        instructions="\n".join(
            [
                f"# Unity-AI-Forge MCP Server v{SERVER_VERSION} - Quick Reference",
                "AIé§†å‹•å‹Unityé–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã€‚MCPã‚µãƒ¼ãƒãƒ¼ + GameKitãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚3å±¤æ§‹é€ ï¼ˆLow/Mid/High-Levelï¼‰ã§åŠ¹ç‡çš„ãªé–‹ç™ºã‚’å®Ÿç¾ã€‚",
                "",
                "## ğŸ”´ Critical Rules (å¿…ãšå®ˆã‚‹)",
                "1. .metaãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«ç·¨é›†ã—ãªã„ï¼ˆUnityè‡ªå‹•ç®¡ç†ã€æ‰‹å‹•ç·¨é›†ã¯å‚ç…§ç ´å£Šï¼‰",
                "2. å…¨Unityæ“ä½œã«MCPãƒ„ãƒ¼ãƒ«ï¼ˆunity_*ï¼‰ã‚’ä½¿ç”¨",
                "3. å¤‰æ›´å‰ã« operation='inspect' ã§å¯¾è±¡ã‚’ç¢ºèª",
                "4. **ãƒ„ãƒ¼ãƒ«å„ªå…ˆé †ä½: High-Level â†’ Mid-Level â†’ Low-Level** ã®é †ã§é¸æŠï¼ˆä¸‹è¨˜å‚ç…§ï¼‰",
                "5. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒå¿…è¦ãªæ“ä½œã¯è‡ªå‹•å¾…æ©Ÿï¼ˆãƒ–ãƒªãƒƒã‚¸å†æ¥ç¶šã§è§£é™¤ï¼‰",
                "6. **UIå„ªå…ˆè¨­è¨ˆ**: äººé–“ãŒæ“ä½œãƒ»ç¢ºèªã§ãã‚‹UIã‹ã‚‰å„ªå…ˆçš„ã«å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰",
                "7. **ã‚·ãƒ¼ãƒ³åˆ†å‰²**: æ©Ÿèƒ½ã”ã¨ã«ã‚·ãƒ¼ãƒ³ã‚’åˆ†ã‘ã‚‹ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰",
                "",
                "## ğŸ¯ UIå„ªå…ˆè¨­è¨ˆåŸå‰‡ (Human-First UI Design)",
                "",
                "ã‚²ãƒ¼ãƒ é–‹ç™ºã§ã¯ã€äººé–“ãŒæ“ä½œãƒ»ãƒ‡ãƒãƒƒã‚°ã§ãã‚‹UIã‚’æœ€åˆã«ä½œæˆã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºåŠ¹ç‡ã¨å“è³ªãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚",
                "",
                "### ãªãœUIå„ªå…ˆã‹ï¼Ÿ",
                "1. **å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: UIãŒã‚ã‚Œã°ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’è¦–è¦šçš„ã«ç¢ºèªã§ãã‚‹",
                "2. **æ‰‹å‹•ãƒ†ã‚¹ãƒˆ**: AIãŒä½œæˆã—ãŸãƒ­ã‚¸ãƒƒã‚¯ã‚’äººé–“ãŒæ‰‹å‹•ã§ãƒ†ã‚¹ãƒˆå¯èƒ½",
                "3. **ãƒ‡ãƒãƒƒã‚°å®¹æ˜“**: å•é¡Œç™ºç”Ÿæ™‚ã«UIã‹ã‚‰ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã‚’ç¢ºèªãƒ»æ“ä½œã§ãã‚‹",
                "4. **ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é«˜é€ŸåŒ–**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã‚’UIçµŒç”±ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«è¡Œãˆã‚‹",
                "",
                "### æ¨å¥¨å®Ÿè£…é †åº:",
                "```",
                "1. Canvas/UIæ§‹é€  â†’ unity_ui_foundation",
                "2. ãƒ‡ãƒãƒƒã‚°UIï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã€ãƒ­ã‚°è¡¨ç¤ºï¼‰",
                "3. æ“ä½œUIï¼ˆãƒœã‚¿ãƒ³ã€ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼‰â†’ unity_gamekit_ui_command",
                "4. ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ â†’ unity_gamekit_actor, unity_gamekit_manager",
                "5. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ â†’ unity_gamekit_interaction",
                "```",
                "",
                "### UIå„ªå…ˆã®å®Ÿè£…ä¾‹:",
                "```python",
                "# âŒ æ‚ªã„ä¾‹: ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…ˆã«ä½œã‚Šã€UIã¯å¾Œå›ã—",
                "# 1. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ã‚¯ã‚¿ãƒ¼ä½œæˆ",
                "# 2. æ•µAIä½œæˆ",
                "# 3. æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…",
                "# 4. UIä½œæˆï¼ˆæœ€å¾Œï¼‰",
                "",
                "# âœ… è‰¯ã„ä¾‹: UIã‚’å…ˆã«ä½œã‚Šã€ãƒ­ã‚¸ãƒƒã‚¯ã¯å¾Œ",
                "# 1. Canvasä½œæˆ",
                "unity_ui_foundation(operation='createCanvas', name='GameUI')",
                "",
                "# 2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºUI",
                "unity_ui_foundation(operation='createText', parentPath='GameUI', name='HPText', text='HP: 100/100')",
                "unity_ui_foundation(operation='createText', parentPath='GameUI', name='MPText', text='MP: 50/50')",
                "",
                "# 3. æ“ä½œãƒœã‚¿ãƒ³UIï¼ˆGameKitUICommandï¼‰",
                "unity_gamekit_ui_command(",
                "    operation='createCommandPanel',",
                "    panelId='ActionPanel',",
                "    canvasPath='GameUI',",
                "    commands=[",
                "        {'name': 'Attack', 'commandType': 'action', 'label': 'æ”»æ’ƒ'},",
                "        {'name': 'Heal', 'commandType': 'action', 'label': 'å›å¾©'},",
                "    ],",
                "    targetType='actor',",
                "    targetActorId='player'",
                ")",
                "",
                "# 4. ãã®å¾Œã§ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…",
                "unity_gamekit_actor(operation='create', actorId='player', ...)",
                "```",
                "",
                "### ãƒ‡ãƒãƒƒã‚°UIæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³:",
                "- **ãƒªã‚½ãƒ¼ã‚¹è¡¨ç¤º**: HP/MP/Goldç­‰ã®ç¾åœ¨å€¤ã‚’ãƒ†ã‚­ã‚¹ãƒˆã§è¡¨ç¤º",
                "- **ã‚¹ãƒ†ãƒ¼ãƒˆè¡¨ç¤º**: ç¾åœ¨ã®ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚º/ã‚¿ãƒ¼ãƒ³ã‚’è¡¨ç¤º",
                "- **æ“ä½œãƒœã‚¿ãƒ³**: æ‰‹å‹•ã§ã‚¿ãƒ¼ãƒ³é€²è¡Œã€ãƒªã‚½ãƒ¼ã‚¹è¿½åŠ /æ¶ˆè²»ã‚’ãƒ†ã‚¹ãƒˆ",
                "- **ãƒ­ã‚°ãƒ‘ãƒãƒ«**: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã®ãƒ­ã‚°è¡¨ç¤º",
                "",
                "## ğŸ¬ ã‚·ãƒ¼ãƒ³åˆ†å‰²åŸå‰‡ (Scene Separation)",
                "",
                "Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€æ©Ÿèƒ½ã”ã¨ã«ã‚·ãƒ¼ãƒ³ã‚’åˆ†å‰²ã™ã‚‹ã“ã¨ã§ä¿å®ˆæ€§ã¨å†åˆ©ç”¨æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚",
                "",
                "### ãªãœã‚·ãƒ¼ãƒ³åˆ†å‰²ã‹ï¼Ÿ",
                "1. **ä¸¦è¡Œé–‹ç™º**: è¤‡æ•°äººãŒåŒæ™‚ã«ç•°ãªã‚‹ã‚·ãƒ¼ãƒ³ã§ä½œæ¥­å¯èƒ½",
                "2. **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: å¿…è¦ãªã‚·ãƒ¼ãƒ³ã®ã¿ãƒ­ãƒ¼ãƒ‰ã—ã¦ãƒ¡ãƒ¢ãƒªç¯€ç´„",
                "3. **ãƒ†ã‚¹ãƒˆå®¹æ˜“**: å€‹åˆ¥ã‚·ãƒ¼ãƒ³ã‚’å˜ç‹¬ã§ãƒ†ã‚¹ãƒˆå¯èƒ½",
                "4. **å†åˆ©ç”¨æ€§**: UI/Audio/Managerã‚·ãƒ¼ãƒ³ã‚’è¤‡æ•°ãƒ¬ãƒ™ãƒ«ã§å…±æœ‰",
                "5. **ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–**: ä¸è¦ãªã‚·ãƒ¼ãƒ³ã‚’é™¤å¤–ã—ã¦ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºå‰Šæ¸›",
                "",
                "### æ¨å¥¨ã‚·ãƒ¼ãƒ³æ§‹æˆ:",
                "```",
                "Assets/Scenes/",
                "â”œâ”€â”€ Boot.unity           # åˆæœŸåŒ–ã€ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç”Ÿæˆ",
                "â”œâ”€â”€ Title.unity          # ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢",
                "â”œâ”€â”€ MainMenu.unity       # ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
                "â”œâ”€â”€ Loading.unity        # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ï¼ˆAdditiveï¼‰",
                "â”œâ”€â”€ GameUI.unity         # ã‚²ãƒ¼ãƒ UIï¼ˆAdditiveã€è¤‡æ•°ãƒ¬ãƒ™ãƒ«ã§å…±æœ‰ï¼‰",
                "â”œâ”€â”€ AudioManager.unity   # ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªç®¡ç†ï¼ˆAdditiveã€DontDestroyOnLoadï¼‰",
                "â”œâ”€â”€ Levels/",
                "â”‚   â”œâ”€â”€ Level1.unity     # ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã‚·ãƒ¼ãƒ³",
                "â”‚   â”œâ”€â”€ Level2.unity",
                "â”‚   â””â”€â”€ ...",
                "â””â”€â”€ Debug/",
                "    â””â”€â”€ TestScene.unity  # ãƒ‡ãƒãƒƒã‚°ç”¨",
                "```",
                "",
                "### ã‚·ãƒ¼ãƒ³åˆ†å‰²ã®å®Ÿè£…ä¾‹:",
                "```python",
                "# 1. ãƒ–ãƒ¼ãƒˆã‚·ãƒ¼ãƒ³ã§ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆæœŸåŒ–",
                "unity_scene_crud(operation='create', scenePath='Assets/Scenes/Boot.unity')",
                "",
                "# 2. GameKitSceneFlowã§ã‚·ãƒ¼ãƒ³é·ç§»ã‚’å®šç¾©",
                "unity_gamekit_sceneflow(",
                "    operation='create',",
                "    flowId='MainFlow',",
                ")",
                "unity_gamekit_sceneflow(",
                "    operation='addScene',",
                "    flowId='MainFlow',",
                "    sceneName='Title',",
                "    scenePath='Assets/Scenes/Title.unity',",
                "    loadMode='single'",
                ")",
                "unity_gamekit_sceneflow(",
                "    operation='addScene',",
                "    flowId='MainFlow',",
                "    sceneName='Level1',",
                "    scenePath='Assets/Scenes/Levels/Level1.unity',",
                "    loadMode='single',",
                "    sharedScenePaths=['Assets/Scenes/GameUI.unity', 'Assets/Scenes/AudioManager.unity']",
                ")",
                "",
                "# 3. ã‚·ãƒ¼ãƒ³é–“é·ç§»ã‚’å®šç¾©",
                "unity_gamekit_sceneflow(",
                "    operation='addTransition',",
                "    flowId='MainFlow',",
                "    fromScene='Title',",
                "    toScene='Level1',",
                "    trigger='StartGame'",
                ")",
                "```",
                "",
                "### ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—åˆ¥ã‚¬ã‚¤ãƒ‰:",
                "| ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ— | loadMode | ç”¨é€” |",
                "|------------|----------|------|",
                "| Boot | single | èµ·å‹•æ™‚åˆæœŸåŒ–ã€GameManagerãªã© |",
                "| Menu/Title | single | ç”»é¢å˜ä½ã®åˆ‡ã‚Šæ›¿ãˆ |",
                "| Level | single | ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤æœ¬ä½“ |",
                "| UI Overlay | additive | è¤‡æ•°ãƒ¬ãƒ™ãƒ«ã§å…±æœ‰ã™ã‚‹UI |",
                "| Audio | additive | BGM/SEç®¡ç†ï¼ˆDontDestroyOnLoadï¼‰ |",
                "| Debug | single | ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ |",
                "",
                "## ğŸ—ï¸ 3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
                "",
                "### Low-Level CRUD (8ãƒ„ãƒ¼ãƒ«) - åŸºæœ¬æ“ä½œ",
                "Scene, GameObject, Component, Asset, ScriptableObject, Prefab, VectorSprite, ProjectSettings",
                "ç”¨é€”: è©³ç´°ãªåˆ¶å¾¡ã€å˜ä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ“ä½œã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç²¾å¯†è¨­å®š",
                "",
                "### Mid-Level Batch (14ãƒ„ãƒ¼ãƒ«) - ãƒãƒƒãƒæ“ä½œã¨ãƒ—ãƒªã‚»ãƒƒãƒˆ",
                "Transform, RectTransform, Physics, Camera, UI Foundation, Audio, Input, CharacterController, Tilemap, Sprite2D, Animation2D, UI Hierarchy, UI State, UI Navigation",
                "ç”¨é€”: è¤‡æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€æ‹¬å‡¦ç†ã€ãƒ—ãƒªã‚»ãƒƒãƒˆé©ç”¨ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ã€2Dã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã€å®£è¨€çš„UIæ§‹ç¯‰",
                "",
                "### High-Level GameKit (6ãƒ„ãƒ¼ãƒ«) - ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰",
                "Actor, Manager, Interaction, UICommand, Machinations, SceneFlow",
                "ç”¨é€”: ã‚²ãƒ¼ãƒ ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹ã€ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡ã€ãƒªã‚½ãƒ¼ã‚¹çµŒæ¸ˆã€ã‚·ãƒ¼ãƒ³é·ç§»ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³",
                "",
                "## åŸºæœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
                "1. ç¢ºèª: unity_scene_crud(operation='inspect', includeHierarchy=True)",
                "2. æ“ä½œ: é©åˆ‡ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ„ãƒ¼ãƒ«ã§å¤‰æ›´å®Ÿæ–½",
                "3. æ¤œè¨¼: operation='inspect' ã§çµæœç¢ºèª",
                "",
                "## ğŸ”„ ãƒãƒƒãƒé †æ¬¡å‡¦ç† (æ¨å¥¨: è¤‡é›‘ãªå¤šæ®µéšæ“ä½œ)",
                "",
                "### unity_batch_sequential_execute - é †æ¬¡å®Ÿè¡Œï¼†ãƒªã‚¸ãƒ¥ãƒ¼ãƒ æ©Ÿèƒ½",
                "è¤‡æ•°ã®Unityæ“ä½œã‚’é †ç•ªã«å®Ÿè¡Œã—ã€ã‚¨ãƒ©ãƒ¼æ™‚ã«åœæ­¢ã—ã¦å†é–‹ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã€‚",
                "",
                "**ä¸»ãªæ©Ÿèƒ½:**",
                "- é †æ¬¡å®Ÿè¡Œ: æ“ä½œã‚’1ã¤ãšã¤é †ç•ªã«å®Ÿè¡Œ",
                "- ã‚¨ãƒ©ãƒ¼åœæ­¢: æœ€åˆã®ã‚¨ãƒ©ãƒ¼ã§åœæ­¢ã—ã€æ®‹ã‚Šã®æ“ä½œã‚’ä¿å­˜",
                "- ãƒªã‚¸ãƒ¥ãƒ¼ãƒ : å¤±æ•—ã—ãŸæ“ä½œã‹ã‚‰å†é–‹å¯èƒ½",
                "- é€²æ—ç®¡ç†: å®Ÿè¡ŒçŠ¶æ…‹ã®ä¿å­˜ã¨ç¢ºèª",
                "",
                "**ä½¿ç”¨ä¾‹:**",
                "```python",
                "# æ–°è¦å®Ÿè¡Œ: è¤‡æ•°ã®GameObjectã‚’é †ç•ªã«ä½œæˆ",
                "unity_batch_sequential_execute(",
                "    operations=[",
                "        {'tool': 'unity_gameobject_crud', 'arguments': {'operation': 'create', 'name': 'Enemy1', 'parentPath': 'Enemies'}},",
                "        {'tool': 'unity_component_crud', 'arguments': {'operation': 'add', 'gameObjectPath': 'Enemies/Enemy1', 'componentType': 'UnityEngine.Rigidbody2D'}},",
                "        {'tool': 'unity_gameobject_crud', 'arguments': {'operation': 'create', 'name': 'Enemy2', 'parentPath': 'Enemies'}},",
                "        {'tool': 'unity_component_crud', 'arguments': {'operation': 'add', 'gameObjectPath': 'Enemies/Enemy2', 'componentType': 'UnityEngine.Rigidbody2D'}},",
                "    ],",
                "    resume=False,",
                "    stop_on_error=True",
                ")",
                "",
                "# ãƒªã‚¸ãƒ¥ãƒ¼ãƒ : ã‚¨ãƒ©ãƒ¼ã‹ã‚‰å†é–‹",
                "unity_batch_sequential_execute(resume=True)",
                "```",
                "",
                "**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹:**",
                "- ã‚·ãƒ¼ãƒ³ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: è¤‡æ•°ã®GameObjectä½œæˆã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ ",
                "- ãƒ¬ãƒ™ãƒ«æ§‹ç¯‰: åœ°å½¢ã€æ•µã€ã‚¢ã‚¤ãƒ†ãƒ ã®æ®µéšçš„é…ç½®",
                "- è¨­å®šå¤‰æ›´: è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚’é †ç•ªã«æ›´æ–°",
                "- ä¾å­˜é–¢ä¿‚: å‰ã®æ“ä½œã®æˆåŠŸãŒå¿…è¦ãªä¸€é€£ã®æ“ä½œ",
                "",
                "**ãƒªã‚½ãƒ¼ã‚¹ç¢ºèª:**",
                "ãƒãƒƒãƒã‚­ãƒ¥ãƒ¼ã®çŠ¶æ…‹ã¯ unity_batch_queue_status ãƒªã‚½ãƒ¼ã‚¹ã§ç¢ºèªå¯èƒ½",
                "",
                "## ğŸ® High-Level GameKit Tools (æ¨å¥¨: ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰)",
                "",
                "### GameKit Actor - ã‚²ãƒ¼ãƒ ã‚¢ã‚¯ã‚¿ãƒ¼",
                "- ä½œæˆ: unity_gamekit_actor(operation='create', actorId='player_001', actorType='player', behaviorProfile='2dPhysics'|'2dLinear'|'2dTileGrid'|'3dCharacterController'|'3dPhysics'|'3dNavMesh', controlMode='directController'|'aiAutonomous'|'uiCommand'|'scriptTriggerOnly', stats={'health': 100, 'speed': 5.0}, abilities=['Jump', 'Attack'])",
                "- æ›´æ–°: unity_gamekit_actor(operation='update', actorId='...', stats={'health': 80})",
                "- æ¤œæŸ»: unity_gamekit_actor(operation='inspect', actorId='...')",
                "",
                "### GameKit Manager - ã‚²ãƒ¼ãƒ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼",
                "- ä½œæˆ: unity_gamekit_manager(operation='create', managerId='game_manager', managerType='turnBased'|'realtime'|'resourcePool'|'eventHub'|'stateManager', turnPhases=['PlayerTurn', 'EnemyTurn'], resourcePool={'actionPoints': 3}, dontDestroyOnLoad=True)",
                "- ã‚¿ãƒ¼ãƒ³é€²è¡Œ: unity_gamekit_manager(operation='update', managerId='...', advancePhase=True)",
                "- ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»: unity_gamekit_manager(operation='update', managerId='...', consumeResource={'resourceName': 'actionPoints', 'amount': 1})",
                "",
                "### GameKit Interaction - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³",
                "- ä½œæˆ: unity_gamekit_interaction(operation='create', interactionId='door_trigger', triggerType='trigger'|'collision'|'raycast'|'proximity'|'input', actions=[{'type': 'changeScene', 'target': 'Level2'}], conditions=[{'type': 'tag', 'value': 'Player'}])",
                "- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: spawnPrefab, destroyObject, playSound, sendMessage, changeScene",
                "",
                "### GameKit UI Command - UIã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒãƒ«",
                "- ä½œæˆ: unity_gamekit_ui_command(operation='createCommandPanel', panelName='CommandPanel', commands=['Move', 'Attack', 'Defend'], layout='horizontal'|'vertical'|'grid', targetActorId='player_001')",
                "",
                "### GameKit Machinations - ãƒªã‚½ãƒ¼ã‚¹çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ",
                "Machinationsé¢¨ã®ãƒªã‚½ãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ç®¡ç†ã€‚å†åˆ©ç”¨å¯èƒ½ãªScriptableObjectã‚¢ã‚»ãƒƒãƒˆã¨ã—ã¦å®šç¾©ã€‚",
                "",
                "**4ã¤ã®æ§‹æˆè¦ç´ :**",
                "1. Resource Pools: ãƒªã‚½ãƒ¼ã‚¹ãƒ—ãƒ¼ãƒ«ï¼ˆHPã€MPã€Goldç­‰ï¼‰ã®åˆæœŸå€¤/æœ€å°å€¤/æœ€å¤§å€¤",
                "2. Resource Flows: æ™‚é–“çµŒéã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆ/æ¶ˆè²»ï¼ˆä¾‹: æ¯ç§’MP+1å›å¾©ï¼‰",
                "3. Resource Converters: ãƒªã‚½ãƒ¼ã‚¹å¤‰æ›ï¼ˆä¾‹: Gold 10 â†’ HP 50ï¼‰",
                "4. Resource Triggers: é–¾å€¤ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆä¾‹: HPâ‰¤0ã§æ­»äº¡ã‚¤ãƒ™ãƒ³ãƒˆï¼‰",
                "",
                "**æ“ä½œ:**",
                "- ã‚¢ã‚»ãƒƒãƒˆä½œæˆ: unity_gamekit_machinations(operation='create', diagramId='player_economy', assetPath='Assets/Economy/PlayerEconomy.asset', initialResources=[{'name': 'health', 'initialAmount': 100, 'minValue': 0, 'maxValue': 100}, {'name': 'mana', 'initialAmount': 50, 'minValue': 0, 'maxValue': 100}], flows=[{'flowId': 'manaRegen', 'resourceName': 'mana', 'ratePerSecond': 1.0, 'isSource': True, 'enabledByDefault': True}], converters=[{'converterId': 'healthPotion', 'fromResource': 'gold', 'toResource': 'health', 'conversionRate': 5.0, 'inputCost': 10}], triggers=[{'triggerName': 'death', 'resourceName': 'health', 'thresholdType': 'below', 'thresholdValue': 1, 'enabledByDefault': True}])",
                "- ã‚¢ã‚»ãƒƒãƒˆæ›´æ–°: unity_gamekit_machinations(operation='update', assetPath='...', flows=[...])",
                "- ã‚¢ã‚»ãƒƒãƒˆæ¤œæŸ»: unity_gamekit_machinations(operation='inspect', assetPath='...')",
                "- ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«é©ç”¨: unity_gamekit_machinations(operation='apply', assetPath='...', managerId='resource_manager', resetExisting=False)",
                "- ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰å‡ºåŠ›: unity_gamekit_machinations(operation='export', managerId='...', assetPath='Assets/Exported.asset')",
                "- ã‚¢ã‚»ãƒƒãƒˆå‰Šé™¤: unity_gamekit_machinations(operation='delete', assetPath='...')",
                "",
                "**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹:**",
                "- RPGã®ä½“åŠ›/é­”åŠ›ã‚·ã‚¹ãƒ†ãƒ ï¼ˆè‡ªå‹•å›å¾©ã€ãƒãƒ¼ã‚·ãƒ§ãƒ³å¤‰æ›ï¼‰",
                "- ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã‚²ãƒ¼ãƒ ï¼ˆæœ¨æâ†’å»ºç‰©ã€é£Ÿæ–™æ¶ˆè²»ï¼‰",
                "- ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ï¼ˆã‚³ã‚¹ãƒˆæ¶ˆè²»ã€ã‚¿ãƒ¼ãƒ³æ¯ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼å›å¾©ï¼‰",
                "- çµŒæ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç”Ÿç”£/æ¶ˆè²»/è²¿æ˜“ãƒ•ãƒ­ãƒ¼ï¼‰",
                "",
                "### GameKit SceneFlow - ã‚·ãƒ¼ãƒ³é·ç§»ç®¡ç†",
                "- ä½œæˆ: unity_gamekit_sceneflow(operation='create', flowId='main_flow', scenes=[{'name': 'Title', 'path': 'Assets/Scenes/Title.unity', 'loadMode': 'single'}, {'name': 'Level1', 'path': '...', 'loadMode': 'additive', 'sharedGroups': ['UI', 'Audio']}], sharedSceneGroups={'UI': ['Assets/Scenes/GameUI.unity']}, transitions=[{'from': 'Title', 'to': 'Level1', 'trigger': 'StartGame'}])",
                "- é·ç§»: unity_gamekit_sceneflow(operation='transition', flowId='...', trigger='StartGame')",
                "",
                "## âš¡ Mid-Level Batch Tools (æ¨å¥¨: ãƒãƒƒãƒæ“ä½œ)",
                "",
                "### Transform Batch - é…ç½®ã¨ãƒªãƒãƒ¼ãƒ ",
                "- å††å½¢é…ç½®: unity_transform_batch(operation='arrangeCircle', gameObjectPaths=['Obj1', 'Obj2'], radius=5.0, startAngle=0)",
                "- ç›´ç·šé…ç½®: unity_transform_batch(operation='arrangeLine', gameObjectPaths=[...], startPosition={...}, endPosition={...})",
                "- é€£ç•ªãƒªãƒãƒ¼ãƒ : unity_transform_batch(operation='renameSequential', gameObjectPaths=[...], baseName='Enemy', startIndex=1, padding=3)",
                "",
                "### RectTransform Batch - UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ",
                "- ã‚¢ãƒ³ã‚«ãƒ¼è¨­å®š: unity_rectTransform_batch(operation='setAnchors', gameObjectPaths=[...], anchorMin={'x': 0, 'y': 0}, anchorMax={'x': 1, 'y': 1})",
                "- è¦ªã«æ•´åˆ—: unity_rectTransform_batch(operation='alignToParent', gameObjectPaths=[...], preset='topLeft'|'center'|'bottomRight')",
                "- åˆ†é…: unity_rectTransform_batch(operation='distribute', gameObjectPaths=[...], direction='horizontal'|'vertical', spacing=10)",
                "",
                "### Physics Bundle - ç‰©ç†ãƒ—ãƒªã‚»ãƒƒãƒˆ",
                "- 2Dãƒ—ãƒªã‚»ãƒƒãƒˆ: unity_physics_bundle(operation='applyPreset2D', gameObjectPath='...', preset='dynamic'|'kinematic'|'static'|'character'|'platformer'|'topDown'|'vehicle'|'projectile')",
                "- 3Dãƒ—ãƒªã‚»ãƒƒãƒˆ: unity_physics_bundle(operation='applyPreset3D', gameObjectPath='...', preset='dynamic'|'kinematic'|'static'|'character'|'vehicle'|'projectile')",
                "",
                "### Camera Rig - ã‚«ãƒ¡ãƒ©è¨­å®š",
                "- ä½œæˆ: unity_camera_rig(operation='createRig', rigType='follow'|'orbit'|'splitScreen'|'fixed'|'dolly', cameraName='MainCamera', targetPath='Player', offset={'x': 0, 'y': 5, 'z': -10}, smoothSpeed=5.0)",
                "",
                "### UI Foundation - UIåŸºç¤è¦ç´ ",
                "- Canvas: unity_ui_foundation(operation='createCanvas', name='GameUI', renderMode='screenSpaceOverlay'|'screenSpaceCamera'|'worldSpace')",
                "- Panel: unity_ui_foundation(operation='createPanel', name='Panel', parentPath='Canvas', anchorPreset='middleCenter', width=400, height=300)",
                "- Button: unity_ui_foundation(operation='createButton', name='Button', parentPath='Canvas', text='Click', anchorPreset='middleCenter', width=200, height=60)",
                "- LayoutGroupè¿½åŠ : unity_ui_foundation(operation='addLayoutGroup', targetPath='Canvas/Panel', layoutType='Vertical', spacing=10, padding={'left':10,'right':10,'top':10,'bottom':10})",
                "  âš ï¸ layoutType: 'Horizontal'|'Vertical'|'Grid'  â€»targetPathå¿…é ˆï¼ˆparentPathã§ã¯ãªã„ï¼‰",
                "",
                "### UI Hierarchy - å®£è¨€çš„UIæ§‹ç¯‰",
                "JSONå®šç¾©ã‹ã‚‰è¤‡é›‘ãªUIéšå±¤ã‚’ä¸€æ‹¬ä½œæˆã€‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€HUDã®é«˜é€Ÿæ§‹ç¯‰ã«æœ€é©ã€‚",
                "- ä½œæˆ: unity_ui_hierarchy(operation='create', parentPath='Canvas', hierarchy={'type': 'panel', 'name': 'Menu', 'children': [{'type': 'button', 'text': 'Start'}], 'layout': 'Vertical'})",
                "- ã‚¯ãƒ­ãƒ¼ãƒ³: unity_ui_hierarchy(operation='clone', gameObjectPath='Canvas/Menu', newName='MenuCopy')",
                "- è¡¨ç¤º/éè¡¨ç¤º: unity_ui_hierarchy(operation='show'|'hide'|'toggle', gameObjectPath='Canvas/Menu')",
                "- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³: unity_ui_hierarchy(operation='setNavigation', gameObjectPath='Canvas/Menu', navigationMode='auto-vertical')",
                "",
                "### UI State - UIçŠ¶æ…‹ç®¡ç†",
                "UIè¦ç´ ã®çŠ¶æ…‹ã‚’å®šç¾©ãƒ»ä¿å­˜ãƒ»é©ç”¨ã€‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼é·ç§»ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºã«ä¾¿åˆ©ã€‚",
                "- çŠ¶æ…‹å®šç¾©: unity_ui_state(operation='defineState', stateName='hidden', rootPath='Canvas/Dialog', elements=[{'path': '', 'active': False, 'alpha': 0}])",
                "- çŠ¶æ…‹é©ç”¨: unity_ui_state(operation='applyState', stateName='hidden', rootPath='Canvas/Dialog')",
                "- çŠ¶æ…‹ä¿å­˜: unity_ui_state(operation='saveState', stateName='current', rootPath='Canvas/Dialog')",
                "- çŠ¶æ…‹ã‚°ãƒ«ãƒ¼ãƒ—: unity_ui_state(operation='createStateGroup', groupName='MenuStates', states=['main', 'options', 'credits'])",
                "",
                "### UI Navigation - UIãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š",
                "ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰/ã‚²ãƒ¼ãƒ ãƒ‘ãƒƒãƒ‰æ“ä½œã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã€‚",
                "- è‡ªå‹•è¨­å®š: unity_ui_navigation(operation='autoSetup', rootPath='Canvas/Menu', direction='vertical'|'horizontal'|'grid', wrapAround=True)",
                "- æ˜ç¤ºçš„è¨­å®š: unity_ui_navigation(operation='setExplicit', gameObjectPath='Canvas/Button1', up='Canvas/Button0', down='Canvas/Button2')",
                "- ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ: unity_ui_navigation(operation='createGroup', groupName='MenuButtons', elements=['Button1', 'Button2'], direction='vertical')",
                "",
                "### Audio Source Bundle - ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¨­å®š",
                "- ä½œæˆ: unity_audio_source_bundle(operation='createAudioSource', gameObjectPath='...', preset='music'|'sfx'|'ambient'|'voice'|'ui', audioClipPath='...', volume=1.0, loop=True)",
                "",
                "### Input Profile - å…¥åŠ›ã‚·ã‚¹ãƒ†ãƒ ",
                "- ä½œæˆ: unity_input_profile(operation='createPlayerInput', gameObjectPath='...', actionMapType='player'|'ui'|'vehicle', notificationBehavior='sendMessages'|'broadcastMessages'|'invokeUnityEvents')",
                "",
                "### Character Controller Bundle - 3Dã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ¶å¾¡",
                "CharacterControllerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æœ€é©åŒ–ã•ã‚ŒãŸãƒ—ãƒªã‚»ãƒƒãƒˆã§è¨­å®šã€‚3Dã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹•ã«æœ€é©ã€‚",
                "",
                "**ãƒ—ãƒªã‚»ãƒƒãƒˆ:**",
                "- fps: 1.8mé«˜ã•ï¼ˆä¸€äººç§°è¦–ç‚¹ç”¨ï¼‰",
                "- tps: 2.0mé«˜ã•ï¼ˆä¸‰äººç§°è¦–ç‚¹ç”¨ï¼‰",
                "- platformer: 1.0mé«˜ã•ï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ç”¨ï¼‰",
                "- child: 0.5mé«˜ã•ï¼ˆå­ä¾›ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”¨ï¼‰",
                "- large: 3.0mé«˜ã•ï¼ˆå¤§å‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”¨ï¼‰",
                "- narrow: ç´°ã„ã‚«ãƒ—ã‚»ãƒ«ï¼ˆç‹­ã„ç©ºé–“ç”¨ï¼‰",
                "- custom: å®Œå…¨æ‰‹å‹•è¨­å®š",
                "",
                "**ä½¿ç”¨ä¾‹:**",
                "- ãƒ—ãƒªã‚»ãƒƒãƒˆé©ç”¨: unity_character_controller_bundle(operation='applyPreset', gameObjectPath='Player', preset='fps')",
                "- ã‚«ã‚¹ã‚¿ãƒ è¨­å®š: unity_character_controller_bundle(operation='update', gameObjectPath='Player', radius=0.5, height=2.0, slopeLimit=45.0, stepOffset=0.3)",
                "- æ¤œæŸ»: unity_character_controller_bundle(operation='inspect', gameObjectPath='Player')",
                "- ãƒãƒƒãƒé©ç”¨: unity_character_controller_bundle(operation='applyPreset', gameObjectPaths=['Player1', 'Player2'], preset='tps')",
                "",
                "**è‡ªå‹•è¨­å®šã•ã‚Œã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**",
                "- radius: ã‚«ãƒ—ã‚»ãƒ«åŠå¾„",
                "- height: ã‚«ãƒ—ã‚»ãƒ«é«˜ã•",
                "- center: ã‚«ãƒ—ã‚»ãƒ«ä¸­å¿ƒã‚ªãƒ•ã‚»ãƒƒãƒˆ",
                "- slopeLimit: ç™»ã‚Œã‚‹å‚ã®æœ€å¤§è§’åº¦",
                "- stepOffset: ç™»ã‚Œã‚‹æ®µå·®ã®é«˜ã•",
                "- skinWidth: è¡çªæ¤œå‡ºãƒ‘ãƒ‡ã‚£ãƒ³ã‚°",
                "- minMoveDistance: ç§»å‹•åˆ¤å®šé–¾å€¤",
                "",
                "## ğŸ”§ Low-Level CRUD Tools (è©³ç´°åˆ¶å¾¡)",
                "",
                "### Scene & GameObject",
                "- ä½œæˆ: unity_gameobject_crud(operation='create', name='...', parentPath='...')",
                "- æ›´æ–°: unity_gameobject_crud(operation='update', gameObjectPath='...', tag='Player', layer='UI'|5, active=True, static=False)",
                "- ãƒ¬ã‚¤ãƒ¤ãƒ¼è¨­å®š: unity_gameobject_crud(operation='update', gameObjectPath='Player', layer='UI') â€»ãƒ¬ã‚¤ãƒ¤ãƒ¼åã¾ãŸã¯ç•ªå·",
                "- è¤‡æ•°æ¤œç´¢: unity_gameobject_crud(operation='findMultiple', pattern='Enemy*', maxResults=100)",
                "- ç§»å‹•: unity_gameobject_crud(operation='move', gameObjectPath='...', parentPath='...')",
                "",
                "### Component",
                "- è¿½åŠ : unity_component_crud(operation='add', gameObjectPath='...', componentType='UnityEngine.Rigidbody', propertyChanges={...})",
                "- æ›´æ–°: unity_component_crud(operation='update', gameObjectPath='...', componentType='...', propertyChanges={...})",
                "- ãƒãƒƒãƒè¿½åŠ : unity_component_crud(operation='addMultiple', pattern='Enemy*', componentType='...', stopOnError=False, maxResults=100)",
                "",
                "#### Unity Objectå‚ç…§ (propertyChangeså†…)",
                "- ã‚¢ã‚»ãƒƒãƒˆå‚ç…§: {'$ref': 'Assets/Materials/Player.mat'}",
                "- ã‚·ãƒ¼ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ: {'$ref': 'Canvas/Panel/Button'} â€»éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚‚æ¤œç´¢å¯èƒ½",
                "- æ–‡å­—åˆ—å½¢å¼: 'Canvas/Panel' â€»UnityEngine.Objectå‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿",
                "",
                "### Asset & Script",
                "- ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ: unity_asset_crud(operation='create', assetPath='Assets/Data/config.json', content='...')",
                "- æ›´æ–°: unity_asset_crud(operation='update', assetPath='...', content='...')",
                "  âš ï¸ C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ/æ›´æ–°å¾Œã¯è‡ªå‹•ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾…æ©Ÿï¼ˆ60ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒ–ãƒªãƒƒã‚¸å†æ¥ç¶šã§è§£é™¤ï¼‰",
                "- ã‚¤ãƒ³ãƒãƒ¼ã‚¿ãƒ¼è¨­å®š: unity_asset_crud(operation='updateImporter', assetPath='...', propertyChanges={...})",
                "",
                "### ScriptableObject",
                "- ä½œæˆ: unity_scriptableObject_crud(operation='create', typeName='MyGame.GameConfig', assetPath='Assets/Data/....asset', properties={...})",
                "- æ¤œæŸ»: unity_scriptableObject_crud(operation='inspect', assetPath='...', includeProperties=True, propertyFilter=['version', 'maxPlayers'])",
                "- æ›´æ–°: unity_scriptableObject_crud(operation='update', assetPath='...', properties={...})",
                "- å‹æ¤œç´¢: unity_scriptableObject_crud(operation='findByType', typeName='...', searchPath='Assets/Data', maxResults=100)",
                "",
                "### Prefab",
                "- ä½œæˆ: unity_prefab_crud(operation='create', gameObjectPath='...', prefabPath='Assets/Prefabs/....prefab', includeChildren=True)",
                "- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–: unity_prefab_crud(operation='instantiate', prefabPath='...', targetPath='...', position={...}, rotation={...})",
                "- ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰é©ç”¨: unity_prefab_crud(operation='applyOverrides', gameObjectPath='...')",
                "- ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ç ´æ£„: unity_prefab_crud(operation='revertOverrides', gameObjectPath='...')",
                "- ã‚¢ãƒ³ãƒ‘ãƒƒã‚¯: unity_prefab_crud(operation='unpack', gameObjectPath='...', unpackMode='outmostRoot'|'completely')",
                "",
                "### Vector Sprite (ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ç”¨)",
                "å¤–éƒ¨ã‚¢ã‚»ãƒƒãƒˆä¸è¦ã§å³åº§ã«ç”Ÿæˆã€‚ã‚²ãƒ¼ãƒ ã‚¸ãƒ£ãƒ ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã«æœ€é©ã€‚",
                "- ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–: unity_vector_sprite_convert(operation='primitiveToSprite', primitiveType='circle'|'square'|'triangle'|'polygon', color={'r':1,'g':0,'b':0,'a':1}, outputPath='Assets/Sprites/....png', width=256, height=256)",
                "- å˜è‰²: unity_vector_sprite_convert(operation='createColorSprite', width=64, height=64, color={...}, outputPath='...')",
                "- SVGå¤‰æ›: unity_vector_sprite_convert(operation='svgToSprite', svgPath='...', outputPath='...', width=512, height=512)",
                "- ãƒ†ã‚¯ã‚¹ãƒãƒ£â†’ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ: unity_vector_sprite_convert(operation='textureToSprite', texturePath='...', pixelsPerUnit=100, filterMode='point'|'bilinear')",
                "",
                "### Project Settings",
                "- èª­ã¿å–ã‚Š: unity_projectSettings_crud(operation='read', category='player'|'quality'|'time'|'physics'|'physics2d'|'audio'|'editor'|'tagsLayers', property='...')",
                "- æ›¸ãè¾¼ã¿: unity_projectSettings_crud(operation='write', category='...', property='...', value=...)",
                "- 2Dé‡åŠ›è¨­å®š: unity_projectSettings_crud(operation='write', category='physics2d', property='gravity', value={'x': 0, 'y': 0})",
                "- ã‚¿ã‚°è¿½åŠ : unity_projectSettings_crud(operation='write', category='tagsLayers', property='addTag', value='...')",
                "- ãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½åŠ : unity_projectSettings_crud(operation='write', category='tagsLayers', property='addLayer', value='...')",
                "- ã‚½ãƒ¼ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½åŠ /å‰Šé™¤: unity_projectSettings_crud(operation='write', category='tagsLayers', property='addSortingLayer'|'removeSortingLayer', value='...')",
                "- ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½åŠ /å‰Šé™¤: unity_projectSettings_crud(operation='write', category='tagsLayers', property='addRenderingLayer'|'removeRenderingLayer', value='...')",
                "",
                "### Build Settings",
                "- ãƒ“ãƒ«ãƒ‰ã‚·ãƒ¼ãƒ³ä¸€è¦§: unity_projectSettings_crud(operation='listBuildScenes')",
                "- ã‚·ãƒ¼ãƒ³è¿½åŠ : unity_projectSettings_crud(operation='addSceneToBuild', scenePath='Assets/Scenes/Level1.unity', index=0, enabled=True)",
                "- ã‚·ãƒ¼ãƒ³å‰Šé™¤: unity_projectSettings_crud(operation='removeSceneFromBuild', scenePath='...' ã¾ãŸã¯ index=0)",
                "- ã‚·ãƒ¼ãƒ³é †åºå¤‰æ›´: unity_projectSettings_crud(operation='reorderBuildScenes', fromIndex=0, toIndex=2)",
                "- ã‚·ãƒ¼ãƒ³æœ‰åŠ¹/ç„¡åŠ¹: unity_projectSettings_crud(operation='setBuildSceneEnabled', scenePath='...' ã¾ãŸã¯ index=0, enabled=True)",
                "",
                "## âš¡ Performance & Best Practices",
                "",
                "### ãƒ„ãƒ¼ãƒ«é¸æŠã‚¬ã‚¤ãƒ‰:",
                "1. **ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰** â†’ High-Level GameKit (Actor, Manager, Interaction, UICommand, Machinations, SceneFlow)",
                "2. **è¤‡æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‡¦ç†** â†’ Mid-Level Batch (Transform, RectTransform, Physics, Camera, UI, Audio, Input, CharacterController)",
                "3. **è©³ç´°ãªå€‹åˆ¥åˆ¶å¾¡** â†’ Low-Level CRUD (GameObject, Component, Asset, ScriptableObject, Prefab)",
                "",
                "### é«˜é€ŸåŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯:",
                "1. includeProperties=False: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå­˜åœ¨ç¢ºèªã®ã¿ï¼ˆ10å€é«˜é€Ÿï¼‰",
                "2. propertyFilter: å¿…è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿å–å¾—",
                "3. maxResults: å¤§é‡æ“ä½œæ™‚ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆé˜²æ­¢ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ1000ï¼‰",
                "4. stopOnError=False: ãƒãƒƒãƒå‡¦ç†ã§ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ç¶šè¡Œ",
                "",
                "### ãƒãƒƒãƒæ“ä½œï¼ˆæ¨å¥¨ï¼‰:",
                "âŒ é¿ã‘ã‚‹: ãƒ«ãƒ¼ãƒ—å†…ã§å€‹åˆ¥ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—",
                "âœ… æ¨å¥¨1: Mid-Level Batchãƒ„ãƒ¼ãƒ«ã¾ãŸã¯ *Multiple æ“ä½œ",
                "ä¾‹: unity_transform_batch(operation='arrangeCircle', gameObjectPaths=[...])",
                "ä¾‹: unity_component_crud(operation='addMultiple', pattern='Enemy*', ...)",
                "âœ… æ¨å¥¨2: è¤‡é›‘ãªå¤šæ®µéšå‡¦ç†ã«ã¯ unity_batch_sequential_execute",
                "ä¾‹: è¤‡æ•°ã®GameObjectä½œæˆâ†’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ â†’ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¨­å®šã®ä¸€é€£ã®æµã‚Œ",
                "ã€€ã€€ã‚¨ãƒ©ãƒ¼æ™‚ã«åœæ­¢ã—ã€ä¿®æ­£å¾Œã« resume=True ã§å†é–‹å¯èƒ½",
                "",
                "### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾…æ©Ÿï¼ˆè‡ªå‹•ï¼‰:",
                "- C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ/æ›´æ–°å¾Œã€è‡ªå‹•çš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾…æ©Ÿ",
                "- å¾…æ©Ÿä¸­ã«ãƒ–ãƒªãƒƒã‚¸ãŒå†æ¥ç¶šã•ã‚Œã‚‹ã¨å³åº§ã«è§£é™¤",
                "- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 60ç§’ï¼ˆè¨­å®šå¤‰æ›´ä¸å¯ï¼‰",
                "- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã« compilationWait æƒ…å ±ãŒå«ã¾ã‚Œã‚‹",
                "",
                "## ğŸ® Game Development Workflow",
                "",
                "### æ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼:",
                "1. **ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ** (High-Level GameKit)",
                "   - GameKit Actor: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã€æ•µã€NPCã®ä½œæˆ",
                "   - GameKit Manager: ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡ã€ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†",
                "   - GameKit Machinations: ãƒªã‚½ãƒ¼ã‚¹çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆHP/MPå›å¾©ã€å¤‰æ›ã€é–¾å€¤ã‚¤ãƒ™ãƒ³ãƒˆï¼‰",
                "   - GameKit SceneFlow: ã‚·ãƒ¼ãƒ³é·ç§»è¨­è¨ˆ",
                "",
                "2. **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè£…** (High-Level GameKit)",
                "   - GameKit Interaction: ãƒˆãƒªã‚¬ãƒ¼ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©",
                "   - GameKit UICommand: UIã‹ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰é€ä¿¡",
                "",
                "3. **è©³ç´°èª¿æ•´** (Mid/Low-Level)",
                "   - Mid-Level: ç‰©ç†ã€ã‚«ãƒ¡ãƒ©ã€UIã€ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã®ãƒ—ãƒªã‚»ãƒƒãƒˆé©ç”¨",
                "   - Low-Level: å€‹åˆ¥ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¾®èª¿æ•´",
                "",
                "4. **æ¼”å‡ºè¿½åŠ ** (æœ€å¾Œ)",
                "   - ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚µã‚¦ãƒ³ãƒ‰",
                "   - UIé·ç§»ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ¼”å‡º",
                "",
                "### GameKitä½¿ç”¨ä¾‹:",
                "```python",
                "# 1. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ã‚¯ã‚¿ãƒ¼ä½œæˆ",
                "unity_gamekit_actor(operation='create', actorId='player', behaviorProfile='2dPhysics', controlMode='directController', stats={'health': 100})",
                "",
                "# 2. ã‚¿ãƒ¼ãƒ³åˆ¶ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ä½œæˆ",
                "unity_gamekit_manager(operation='create', managerId='turn_mgr', managerType='turnBased', turnPhases=['PlayerTurn', 'EnemyTurn'])",
                "",
                "# 3. ãƒªã‚½ãƒ¼ã‚¹çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ä½œæˆï¼ˆMachinationsï¼‰",
                "unity_gamekit_machinations(",
                "    operation='create',",
                "    diagramId='player_economy',",
                "    assetPath='Assets/Economy/PlayerEconomy.asset',",
                "    initialResources=[",
                "        {'name': 'health', 'initialAmount': 100, 'minValue': 0, 'maxValue': 100},",
                "        {'name': 'mana', 'initialAmount': 50, 'minValue': 0, 'maxValue': 100},",
                "        {'name': 'gold', 'initialAmount': 0, 'minValue': 0, 'maxValue': 9999}",
                "    ],",
                "    flows=[",
                "        {'flowId': 'manaRegen', 'resourceName': 'mana', 'ratePerSecond': 1.0, 'isSource': True}",
                "    ],",
                "    converters=[",
                "        {'converterId': 'healthPotion', 'fromResource': 'gold', 'toResource': 'health', 'conversionRate': 5.0, 'inputCost': 10}",
                "    ]",
                ")",
                "",
                "# 4. ãƒ‰ã‚¢ãƒˆãƒªã‚¬ãƒ¼ä½œæˆ",
                "unity_gamekit_interaction(operation='create', interactionId='door', triggerType='trigger', actions=[{'type': 'changeScene', 'target': 'Level2'}])",
                "",
                "# 5. ã‚·ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼è¨­å®š",
                "unity_gamekit_sceneflow(operation='create', flowId='main', scenes=[...], transitions=[...])",
                "```",
                "",
                "### ãƒãƒƒãƒé †æ¬¡å‡¦ç†ä½¿ç”¨ä¾‹ï¼ˆè¤‡é›‘ãªã‚·ãƒ¼ãƒ³ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼‰:",
                "```python",
                "# æ•µã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’æ®µéšçš„ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚¨ãƒ©ãƒ¼æ™‚ã¯åœæ­¢ã—ã¦ãƒªã‚¸ãƒ¥ãƒ¼ãƒ å¯èƒ½ï¼‰",
                "unity_batch_sequential_execute(",
                "    operations=[",
                "        # ã‚¹ãƒ†ãƒƒãƒ—1: è¦ªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ",
                "        {'tool': 'unity_gameobject_crud', 'arguments': {'operation': 'create', 'name': 'Enemies'}},",
                "        # ã‚¹ãƒ†ãƒƒãƒ—2-4: æ•µã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ",
                "        {'tool': 'unity_gamekit_actor', 'arguments': {'operation': 'create', 'actorId': 'enemy1', 'parentPath': 'Enemies', 'behaviorProfile': '2dPhysics', 'controlMode': 'aiAutonomous'}},",
                "        {'tool': 'unity_gamekit_actor', 'arguments': {'operation': 'create', 'actorId': 'enemy2', 'parentPath': 'Enemies', 'behaviorProfile': '2dPhysics', 'controlMode': 'aiAutonomous'}},",
                "        {'tool': 'unity_gamekit_actor', 'arguments': {'operation': 'create', 'actorId': 'enemy3', 'parentPath': 'Enemies', 'behaviorProfile': '2dPhysics', 'controlMode': 'aiAutonomous'}},",
                "        # ã‚¹ãƒ†ãƒƒãƒ—5: æ•µã‚’å††å½¢é…ç½®",
                "        {'tool': 'unity_transform_batch', 'arguments': {'operation': 'arrangeCircle', 'gameObjectPaths': ['Enemies/enemy1', 'Enemies/enemy2', 'Enemies/enemy3'], 'radius': 5.0}},",
                "    ]",
                ")",
                "```",
                "",
                "## ğŸ”Œ Utility Tools",
                "",
                "### unity_ping - æ¥ç¶šç¢ºèª",
                "- ç¢ºèª: unity_ping() ã§ãƒ–ãƒªãƒƒã‚¸æ¥ç¶šçŠ¶æ…‹ã‚’ç¢ºèª",
                "",
                "### unity_compilation_await - ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾…æ©Ÿ",
                "C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ/æ›´æ–°å¾Œã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å®Œäº†ã‚’å¾…æ©Ÿã€‚",
                "- å¾…æ©Ÿ: unity_compilation_await(operation='await', timeoutSeconds=60)",
                "- é€šå¸¸ã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ“ä½œå¾Œã«è‡ªå‹•ã§å‘¼ã³å‡ºã•ã‚Œã‚‹ãŒã€æ˜ç¤ºçš„ã«å¾…æ©Ÿã—ãŸã„å ´åˆã«ä½¿ç”¨",
                "",
                "## ğŸ”§ Troubleshooting",
                "",
                "### æ¥ç¶šã‚¨ãƒ©ãƒ¼",
                "1. unity_ping ã§æ¥ç¶šç¢ºèª",
                "2. Unity Editor: Tools > MCP Assistant ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª",
                "3. ãƒãƒ¼ãƒˆ7077ãŒä½¿ç”¨å¯èƒ½ã‹ç¢ºèª",
                "",
                "### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼",
                "- C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ/æ›´æ–°å¾Œã¯è‡ªå‹•ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾…æ©Ÿ",
                "- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã® compilationWait æƒ…å ±ã‚’ç¢ºèª",
                "- Unity Editorã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã§ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèª",
                "",
                "### ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ",
                "1. maxResults ã‚’æ¸›ã‚‰ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ1000 â†’ 100ä»¥ä¸‹ï¼‰",
                "2. includeProperties=False ã§é«˜é€ŸåŒ–",
                "3. stopOnError=False ã§ãƒãƒƒãƒæ“ä½œç¶šè¡Œ",
                "4. Mid-Level Batchãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ï¼ˆå€‹åˆ¥å‘¼ã³å‡ºã—ã‚ˆã‚Šé«˜é€Ÿï¼‰",
                "",
                "### ãƒ–ãƒªãƒƒã‚¸å†æ¥ç¶š",
                "- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ä¸­ã«ãƒ–ãƒªãƒƒã‚¸ãŒå†æ¥ç¶šã•ã‚ŒãŸå ´åˆã€è‡ªå‹•çš„ã«å¾…æ©Ÿè§£é™¤",
                "- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã« bridgeReconnected: true ãŒå«ã¾ã‚Œã‚‹",
                "- å†æ¥ç¶šå¾Œã€æ“ä½œã‚’å†è©¦è¡Œã—ã¦ãã ã•ã„",
                "",
                "### ãƒãƒƒãƒé †æ¬¡å‡¦ç†ã‚¨ãƒ©ãƒ¼",
                "- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã¯ stopped_at_index ã§å¤±æ•—ä½ç½®ã‚’ç¢ºèª",
                "- å•é¡Œã‚’ä¿®æ­£å¾Œã€resume=True ã§å†é–‹",
                "- unity_batch_queue_status ãƒªã‚½ãƒ¼ã‚¹ã§é€²æ—ç¢ºèª",
                "- å®Œå…¨ã«ãƒªã‚»ãƒƒãƒˆã™ã‚‹å ´åˆã¯æ–°è¦å®Ÿè¡Œï¼ˆresume=Falseï¼‰",
                "",
                "## ğŸ“‹ Quick Reference",
                "",
                "### å…¨30ãƒ„ãƒ¼ãƒ«ä¸€è¦§:",
                "",
                "**High-Level GameKit (6):**",
                "unity_gamekit_actor, unity_gamekit_manager, unity_gamekit_interaction, unity_gamekit_ui_command, unity_gamekit_machinations, unity_gamekit_sceneflow",
                "",
                "**Mid-Level Batch (14):**",
                "unity_transform_batch, unity_rectTransform_batch, unity_physics_bundle, unity_camera_rig, unity_ui_foundation, unity_ui_hierarchy, unity_ui_state, unity_ui_navigation, unity_audio_source_bundle, unity_input_profile, unity_character_controller_bundle, unity_tilemap_bundle, unity_sprite2d_bundle, unity_animation2d_bundle",
                "",
                "**Low-Level CRUD (8):**",
                "unity_scene_crud, unity_gameobject_crud, unity_component_crud, unity_asset_crud, unity_scriptableObject_crud, unity_prefab_crud, unity_vector_sprite_convert, unity_projectSettings_crud",
                "",
                "**Batch Operations (1):**",
                "unity_batch_sequential_execute",
                "",
                "**Utility (2):**",
                "unity_ping, unity_compilation_await",
                "",
                "### GameObjectè­˜åˆ¥æ–¹æ³•:",
                "- gameObjectPath: éšå±¤ãƒ‘ã‚¹ï¼ˆä¾‹: 'Canvas/Panel/Button'ï¼‰",
                "- gameObjectGlobalObjectId: GlobalObjectIdæ–‡å­—åˆ—ï¼ˆã‚·ãƒ¼ãƒ³å†èª­ã¿è¾¼ã¿å¾Œã‚‚å®‰å®šï¼‰",
                "",
                "### ã‚ˆãã‚ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:",
                "- Transform: position, rotation, localScale",
                "- RectTransform: anchoredPosition, sizeDelta, anchorMin, anchorMax, pivot",
                "- Rigidbody: mass, drag, useGravity, constraints",
                "- Rigidbody2D: mass, linearDamping, angularDamping, gravityScale, constraints",
                "- Camera: fieldOfView, clearFlags, backgroundColor",
                "",
                "### å‘½åè¦å‰‡:",
                "å…¨ãƒ„ãƒ¼ãƒ«åã¯ unity_* å½¢å¼ï¼ˆã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢åŒºåˆ‡ã‚Šï¼‰",
                "ä¾‹: unity_gamekit_actor, unity_gamekit_machinations, unity_transform_batch, unity_character_controller_bundle, unity_gameobject_crud, unity_batch_sequential_execute",
                "",
                "---",
                f"Unity-AI-Forge v{SERVER_VERSION} - 30 Tools, 100+ Operations, 3-Layer Architecture + UI-First Design + Batch Processing + Machinations Economics + 2D Sprite/Animation + Physics2D + Sorting Layers + Declarative UI",
            ]
        ),
    )

    register_resources(server)
    register_tools(server)

    return server


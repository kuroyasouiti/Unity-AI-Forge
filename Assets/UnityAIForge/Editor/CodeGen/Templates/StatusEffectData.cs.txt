using System.Collections.Generic;
using UnityEngine;

/// <summary>
/// Status effect (buff/debuff) definition with modifiers and tick behavior.
/// Generated by Unity-AI-Forge.
/// </summary>
[CreateAssetMenu(menuName = "Game/{{CLASS_NAME}}", fileName = "New{{CLASS_NAME}}")]
public class {{CLASS_NAME}} : ScriptableObject
{
    #region Types

    public enum EffectType { Buff, Debuff, Neutral }
    public enum EffectCategory { Generic, Poison, Burn, Freeze, Stun, Slow, Haste, Shield, Regeneration, Invincibility, Weakness, Strength, Custom }
    public enum StackBehavior { RefreshDuration, AddDuration, Independent, IncreaseStacks }
    public enum ModifierType { StatModifier, DamageOverTime, HealOverTime, Stun, Silence, Invincible, Custom }
    public enum ModifierOperation { Add, Subtract, Multiply, Divide, Set, PercentAdd, PercentMultiply }

    [System.Serializable]
    public class EffectModifier
    {
        public ModifierType type;
        public string targetStat;
        public float value;
        public ModifierOperation operation;
        public bool scaleWithStacks;
        public float dotDamage;
        public float hotHeal;
    }

    #endregion

    [Header("Identity")]
    public string effectId = "{{EFFECT_ID}}";
    public string displayName = "{{DISPLAY_NAME}}";
    [TextArea(1, 3)] public string description;

    [Header("Visuals")]
    public Sprite icon;
    public Color tintColor = Color.white;

    [Header("Type")]
    public EffectType type = EffectType.{{EFFECT_TYPE}};
    public EffectCategory category = EffectCategory.{{EFFECT_CATEGORY}};

    [Header("Duration")]
    public float duration = {{DURATION}};
    public bool isPermanent;

    [Header("Stacking")]
    public bool stackable = {{STACKABLE}};
    public int maxStacks = {{MAX_STACKS}};
    public StackBehavior stackBehavior = StackBehavior.RefreshDuration;

    [Header("Tick")]
    public float tickInterval = {{TICK_INTERVAL}};
    public bool tickOnApply;

    [Header("Modifiers")]
    public List<EffectModifier> modifiers = new List<EffectModifier>();

    [Header("VFX")]
    public string particleEffectId;
    public string onApplyEffectId;
    public string onRemoveEffectId;

    [Header("Audio")]
    public string onApplySoundPath;
    public string onRemoveSoundPath;

    [Header("Interactions")]
    public List<string> immuneToEffects = new List<string>();
    public List<string> removesEffects = new List<string>();
}
